(this["webpackJsonphekate-console-client"]=this["webpackJsonphekate-console-client"]||[]).push([[0],{76:function(e,a,t){e.exports=t(87)},77:function(e,a,t){},82:function(e,a,t){},87:function(e,a,t){"use strict";t.r(a);t(77);var n=t(0),c=t.n(n),l=t(8),r=t.n(l),o=t(51),u=t(10),s=(t(82),t(117)),i=t(133),m=t(130),b=t(124),p=t(125),v=t(123),d=t(88),f=t(127),O=t(128),E=t(121),j=t(126),C=t(134),_=t(129),g=t(66),k=t.n(g),N=t(67),y=t.n(N),S=t(50),h=t.n(S),w=t(65),R=t.n(w),J=t(131),I=t(68),x=t.n(I),D=function(){var e=Object(n.useRef)(),a=Object(n.useState)("3000"),t=Object(u.a)(a,2),l=t[0],r=t[1],o=Object(n.useState)(localStorage.getItem("ip")||"127.0.0.1"),C=Object(u.a)(o,2),_=C[0],g=C[1],k=Object(n.useState)(""),N=Object(u.a)(k,2),y=N[0],S=N[1],w=Object(n.useState)(""),I=Object(u.a)(w,2),x=I[0],D=I[1],A=Object(n.useState)(!1),B=Object(u.a)(A,2),L=B[0],W=B[1],Z=Object(n.useState)([]),$=Object(u.a)(Z,2),F=$[0],G=$[1],P=Object(n.useState)(""),U=Object(u.a)(P,2),V=U[0],X=U[1],H=Object(n.useState)(""),K=Object(u.a)(H,2),M=K[0],Q=K[1],T=Object(n.useState)("unknown"),Y=Object(u.a)(T,2),ee=Y[0],ae=Y[1],te=Object(n.useState)(!1),ne=Object(u.a)(te,2),ce=ne[0],le=ne[1],re=Object(n.useCallback)((function(e){r(e.target.value)}),[]),oe=Object(n.useCallback)((function(e){localStorage.setItem("ip",e.target.value),g(e.target.value)}),[]),ue=Object(n.useCallback)((function(e){S(e.target.value)}),[]),se=Object(n.useCallback)((function(e){D(e.target.value)}),[]),ie=Object(n.useCallback)((function(a){a.preventDefault(),e.current&&e.current.close();var t=e.current=new WebSocket("ws://".concat(_,":").concat(l,"/"));t.onmessage=function(e){var a=e.data;if("string"===typeof a){var t=JSON.parse(a);switch(t.type){case"auth":return void(t.success?(X(""),W(!0)):X("Wrong user name or password"));case"state":return void ae(t.value);case"backups":return void G(t.value);default:return void console.error("Got weird message",a)}}},t.onopen=function(){t.send(JSON.stringify({type:"auth",login:y,password:x}))},t.onclose=function(){W(!1)}}),[y,x,l,_]),me=Object(n.useState)(!1),be=Object(u.a)(me,2),pe=be[0],ve=be[1],de=Object(n.useState)((function(){return function(){}})),fe=Object(u.a)(de,2),Oe=fe[0],Ee=fe[1],je=Object(n.useCallback)((function(){Oe(),ve(!1)}),[Oe]),Ce=Object(n.useCallback)((function(){ve(!1)}),[]),_e=Object(n.useCallback)((function(e){var a=e.match(/^[a-zA-Z0-9_.-]+$/);return le(!a),a}),[]),ge=Object(n.useCallback)((function(e){var a=e.target.value;Q(a),_e(a)}),[_e]),ke=Object(n.useCallback)((function(a){a.preventDefault(),ve(!0),Ee((function(){return function(){var a=e.current;a&&a.send(JSON.stringify({type:"update"}))}}))}),[]),Ne=Object(n.useCallback)((function(a){a.preventDefault(),ve(!0),Ee((function(){return function(){var a=e.current;a&&a.send(JSON.stringify({type:"restart"}))}}))}),[]),ye=Object(n.useCallback)((function(a){a.preventDefault(),ve(!0),Ee((function(){return function(){var a=e.current;a&&a.send(JSON.stringify({type:"stop"}))}}))}),[]),Se=Object(n.useRef)(null),he=Object(n.useCallback)((function(a){a.preventDefault(),_e(M)?(ve(!0),Ee((function(){return function(){var a=e.current;a&&a.send(JSON.stringify({type:"save",name:M}))}}))):Se.current&&Se.current.focus()}),[M,_e]),we=Object(n.useCallback)((function(a,t){var n=e.current;n&&n.send(JSON.stringify({type:"restore",name:a,regions:t}))}),[]);return c.a.createElement("div",{className:"app"},L?null:c.a.createElement("form",{noValidate:!0,autoComplete:"off"},c.a.createElement(s.a,{className:"app__form"},c.a.createElement(i.a,{className:"app__input",required:!0,label:"Ip",value:_,onChange:oe}),c.a.createElement(m.a,{className:"app__input",required:!0,label:"Server",value:l,onChange:re},c.a.createElement(b.a,{value:"3000"},"Survival"),c.a.createElement(b.a,{value:"3001"},"Creative"),c.a.createElement(b.a,{value:"3002"},"Survival Copy")),c.a.createElement(i.a,{className:"app__input",required:!0,label:"Login",value:y,onChange:ue}),c.a.createElement(i.a,{className:"app__input",required:!0,label:"Password",type:"password",value:x,onChange:se}),c.a.createElement("div",{className:"app__button"},c.a.createElement(p.a,{type:"submit",variant:"contained",color:"primary",onClick:ie},"Log in")))),V?c.a.createElement(J.a,{className:"app__alert",severity:"error"},V):null,L?c.a.createElement(s.a,{className:"app__form"},c.a.createElement("div",{className:"app__second"},c.a.createElement("div",{className:"app__button"},c.a.createElement(p.a,{className:"app__button2",variant:"contained",color:"primary",onClick:ke},"Update carpet"),c.a.createElement(p.a,{className:"app__button2",variant:"contained",color:"primary",onClick:Ne},"Restart"),c.a.createElement(p.a,{className:"app__button2",variant:"contained",color:"primary",onClick:ye},"Stop"),c.a.createElement(z,{onConfirm:je,onClose:Ce,isOpen:pe}),c.a.createElement("div",{className:"app__server-state"},ee)),c.a.createElement(v.a,null,c.a.createElement(d.a,null,c.a.createElement(f.a,null,c.a.createElement(h.a,null)),c.a.createElement(O.a,null,c.a.createElement(E.a,{inputRef:Se,placeholder:"Backup name",value:M,error:ce,onChange:ge})),c.a.createElement(j.a,{title:"Save backup",onClick:he},c.a.createElement(R.a,null))),F.map((function(e,a){return c.a.createElement(q,{key:a,backup:e,onRestore:we})}))))):null)},q=function(e){var a=e.backup,t=e.onRestore,l=Object(n.useState)(!1),r=Object(u.a)(l,2),o=r[0],s=r[1],i=Object(n.useCallback)((function(){s(!1)}),[]),m=Object(n.useCallback)((function(){s(!0)}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,{button:!0},c.a.createElement(f.a,null,c.a.createElement(k.a,null)),c.a.createElement(O.a,{primary:a}),c.a.createElement(j.a,{title:"Restore from backup",onClick:m},c.a.createElement(y.a,null))),c.a.createElement(B,{backup:a,isOpen:o,onClose:i,onRestore:t}))},z=function(e){var a=e.onClose,t=e.onConfirm,n=e.isOpen;return c.a.createElement(C.a,{onClose:a,open:n,className:"dialog"},c.a.createElement("div",{className:"dialog__inner"},c.a.createElement("div",{className:"dialog__confirm"},c.a.createElement("div",{className:"dialog__text"},"Are you sure?"),c.a.createElement("div",{className:"dialog__buttons"},c.a.createElement(p.a,{className:"dialog__yes",type:"submit",variant:"contained",color:"primary",onClick:t},"I'm sure"),c.a.createElement(p.a,{className:"dialog__no",variant:"contained",onClick:a},"Cancel")))))},A=function(e){var a=e.dimension,t=e.x,n=e.z;return"".concat(a," ").concat(t," ").concat(n)},B=function(e){var a=e.backup,t=e.isOpen,l=e.onClose,r=e.onRestore,s=W(),i=Object(u.a)(s,4),f=i[0],g=i[1],k=i[2],N=i[3],y=W(),S=Object(u.a)(y,4),w=S[0],R=S[1],J=S[2],I=S[3],x=Object(n.useState)("overworld"),D=Object(u.a)(x,2),q=D[0],z=D[1],B=Object(n.useCallback)((function(e){z(e.target.value)}),[]),Z=Object(n.useState)([]),$=Object(u.a)(Z,2),F=$[0],G=$[1],P=Object(n.useCallback)((function(){N(f)&&I(w)&&G([].concat(Object(o.a)(F),[{dimension:q,x:parseInt(f,10),z:parseInt(w,10)}]))}),[F,q,f,w,N,I]),U=Object(n.useCallback)((function(e){var a=Object(o.a)(F);a.splice(e,1),G(a)}),[F]),V=Object(n.useState)(!1),X=Object(u.a)(V,2),H=X[0],K=X[1],M=Object(n.useCallback)((function(){l(),r(a,F),K(!1)}),[F,r,l,a]),Q=Object(n.useCallback)((function(){K(!0)}),[]),T=Object(n.useCallback)((function(){K(!1)}),[]);return c.a.createElement(C.a,{onClose:l,open:t,className:"dialog"},c.a.createElement(_.a,null,"Restore backup ",a),c.a.createElement(v.a,null,c.a.createElement(d.a,{className:"dialog__row"},c.a.createElement(m.a,{value:q,onChange:B},c.a.createElement(b.a,{value:"overworld"},"Overworld"),c.a.createElement(b.a,{value:"nether"},"Nether"),c.a.createElement(b.a,{value:"end"},"End")),c.a.createElement(E.a,{className:"dialog__input",placeholder:"X",value:f,error:g,onChange:k}),c.a.createElement(E.a,{className:"dialog__input",placeholder:"Z",value:w,error:R,onChange:J}),c.a.createElement(j.a,{title:"Add",onClick:P},c.a.createElement(h.a,null))),F.length?F.map((function(e,a){return c.a.createElement(L,{key:a,id:a,region:e,onRemove:U})})):c.a.createElement(d.a,{button:!0},c.a.createElement(O.a,{primary:"No specific regions selected. Restore all regions and player files"}))),c.a.createElement(p.a,{className:"dialog__button",type:"submit",variant:"contained",color:"primary",onClick:Q},"Restore"),H?c.a.createElement("div",{className:"dialog__confirm"},c.a.createElement("div",{className:"dialog__text"},"Restore"," ",F.length?F.map(A).join("; "):"whole world (with player files etc.)","?"),c.a.createElement("div",{className:"dialog__buttons"},c.a.createElement(p.a,{className:"dialog__yes",type:"submit",variant:"contained",color:"primary",onClick:M},"I'm sure"),c.a.createElement(p.a,{className:"dialog__no",variant:"contained",onClick:T},"Cancel"))):null)},L=function(e){var a=e.id,t=e.region,l=e.onRemove,r=Object(n.useCallback)((function(){l(a)}),[a,l]);return c.a.createElement(d.a,{button:!0,onClick:r},c.a.createElement(O.a,{primary:A(t)}),c.a.createElement(j.a,{title:"Remove"},c.a.createElement(x.a,null)))},W=function(){var e=Object(n.useState)(""),a=Object(u.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!1),r=Object(u.a)(l,2),o=r[0],s=r[1],i=Object(n.useCallback)((function(e){var a=e.match(/^-?[0-9]+$/);return s(!a),a}),[]);return[t,o,Object(n.useCallback)((function(e){var a=e.target.value;c(a),i(a)}),[i]),i]};r.a.render(c.a.createElement(D,null),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.4bb6eacf.chunk.js.map